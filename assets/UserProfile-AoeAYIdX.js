import{E as k}from"./el-button-UDxPgDzm.js";import{a as w,E as U}from"./el-col-DOJP-gMF.js";import{E as x,a as y}from"./el-form-item-XBQeOO5C.js";import{E as C}from"./el-input-dIcAMTQr.js";import{p as I}from"./PageContainel-KrGC-qCY.js";import{u as S,r as s,o as B,c as R,a as l,b as e,e as q,bL as F,E as N}from"./index-Wk3QeAoq.js";/* empty css                   */import"./_baseClone-ifvH1Xs_.js";import"./plugin-vueexport-helper-x3n3nnut.js";const H={__name:"UserProfile",setup(z){const{user:{username:u,nickname:i,email:p,id:d},getUser:_}=S(),m=s(),f=async()=>{await m.value.validate()&&(await F(a.value),await _(),N.success("修改成功"))},a=s({username:u,nickname:i,email:p,id:d}),c={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称必须是2-10位的非空字符串",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]};return(g,o)=>{const n=C,r=x,b=k,v=y,E=w,V=U;return B(),R(I,{title:"基本资料"},{default:l(()=>[e(V,null,{default:l(()=>[e(E,{span:12},{default:l(()=>[e(v,{model:a.value,rules:c,ref_key:"formRef",ref:m,"label-width":"100px",size:"large"},{default:l(()=>[e(r,{label:"登录名称"},{default:l(()=>[e(n,{modelValue:a.value.username,"onUpdate:modelValue":o[0]||(o[0]=t=>a.value.username=t),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:l(()=>[e(n,{modelValue:a.value.nickname,"onUpdate:modelValue":o[1]||(o[1]=t=>a.value.nickname=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:l(()=>[e(n,{modelValue:a.value.email,"onUpdate:modelValue":o[2]||(o[2]=t=>a.value.email=t)},null,8,["modelValue"])]),_:1}),e(r,null,{default:l(()=>[e(b,{onClick:f,type:"primary"},{default:l(()=>[q("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}};export{H as default};
